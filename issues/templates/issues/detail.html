{% extends 'shared/project_base.html' %}
{% load humanize %}

{% block styles %}
<style>
    .timeline {
        position: relative;
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
        margin-left: 2rem;
    }

    .timeline::before {
        content: '';
        position: absolute;
        top: 0;
        left: 16px;
        bottom: 0;
        width: 2px;
        background-color: #dee2e6;
        z-index: 0;
    }

    .timeline-entry {
        display: flex;
        align-items: center;
        /* align icon and text center */
        position: relative;
    }

    .timeline-icon {
        width: 32px;
        height: 32px;
        border: 1px solid #dee2e6;
        border-radius: 50%;
        background-color: #fff;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        z-index: 1;
        margin-right: 0.75rem;
    }

    .timeline-icon i {
        width: 16px;
        height: 16px;
    }

    .timeline-body {
        display: flex;
        flex-direction: column;
    }

    .timeline-time {
        font-size: 0.875rem;
        color: #6c757d;
        margin-left: 0.4rem;
    }

    .timeline-note {
        background-color: #f8f9fa;
        padding: 0.75rem;
        margin-top: 0.4rem;
        border-radius: 0.375rem;
        font-size: 0.875rem;
    }

    .timeline-line {
        display: flex;
        align-items: center;
        /* ensures proper vertical centering */
    }
</style>
{% endblock styles %}

{% block content %}
<div class="container mt-2">
    <div class="timeline">

        <div class="timeline-entry" style="align-items: flex-start;">
            <div class="timeline-icon text-info">
                <i data-lucide="file-volume-2" class="lucide"></i>
            </div>
            <div class="timeline-body">
                <div class="timeline-line">
                    <span><strong>{{ issue.author.username }}</strong> added a summary to the issue.</span>
                    <span class="timeline-time">{{ issue.created_at|naturaltime }}</span>
                </div>
                <div class="timeline-note">
                    {{ issue.summary_html|safe }}
                </div>
            </div>
        </div>

        <div class="timeline-entry">
            <div class="timeline-icon text-success">
                <i data-lucide="check-check" class="lucide"></i>
            </div>
            <div class="timeline-line">
                <span><strong>Stripe</strong> completed the payment transfer.</span>
                <span class="timeline-time">{{ "2022-04-27"|naturaltime }}</span>
            </div>
        </div>

        <div class="timeline-entry">
            <div class="timeline-icon text-primary">
                <i data-lucide="check" class="lucide"></i>
            </div>
            <div class="timeline-line">
                <span><strong>Stripe</strong> processed the payment transfer.</span>
                <span class="timeline-time">{{ "2022-04-25"|naturaltime }}</span>
            </div>
        </div>

        <div class="timeline-entry">
            <div class="timeline-icon text-warning">
                <i data-lucide="zap" class="lucide"></i>
            </div>
            <div class="timeline-line">
                <span><strong>Magid</strong> triggered the payment transfer event.</span>
                <span class="timeline-time">{{ "2022-04-25"|naturaltime }}</span>
            </div>
        </div>

        <div class="timeline-entry">
            <div class="timeline-icon text-muted">
                <i data-lucide="banknote" class="lucide"></i>
            </div>
            <div class="timeline-line">
                <span>The landlord, <strong>Max Mustermann</strong>, connected their bank account.</span>
                <span class="timeline-time">{{ "2022-04-25"|naturaltime }}</span>
            </div>
        </div>

        <div class="timeline-entry" style="align-items: flex-start;">
            <div class="timeline-icon text-info">
                <i data-lucide="message-square" class="lucide"></i>
            </div>
            <div class="timeline-body">
                <div class="timeline-line">
                    <span><strong>Magid</strong> commented.</span>
                    <span class="timeline-time">{{ "2022-04-21"|naturaltime }}</span>
                </div>
                <div class="timeline-note">
                    Emailed the landlord to connect their bank account.
                </div>
            </div>
        </div>

        <div class="timeline-entry">
            <div class="timeline-icon text-danger">
                <i data-lucide="x-circle" class="lucide"></i>
            </div>
            <div class="timeline-line">
                <span><strong>Payment transfer</strong> failed due to missing connected bank account.</span>
                <span class="timeline-time">{{ "2022-04-21"|naturaltime }}</span>
            </div>
        </div>

    </div>
</div>
{% endblock content %}