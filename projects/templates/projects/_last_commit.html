{% load humanize %}

<div class="border rounded p-2 bg-light d-flex align-items-center justify-content-between gap-2">
    <!-- Left: Icon, Message, Author -->
    <div class="d-flex align-items-start gap-2 flex-grow-1 overflow-hidden">
        <!-- Placeholder Icon Instead of Avatar -->
        <div class="d-flex justify-content-center align-items-center rounded-circle bg-secondary bg-opacity-25"
            style="width: 32px; height: 32px;">
            <i data-lucide="user-round" class="text-muted" style="width: 18px; height: 18px;"></i>
        </div>

        <!-- Message + Author Info -->
        <div class="overflow-hidden">
            <div class="fw-semibold text-dark text-truncate small" title="{{ last_commit.message }}">
                {{ last_commit.message }}
            </div>
            <small class="text-muted d-block text-truncate">
                {{ last_commit.author_name }} authored {{ last_commit.timestamp|naturaltime }}
            </small>
        </div>
    </div>

    <!-- Commit hash + copy -->
    <div class="input-group input-group-sm flex-shrink-0" style="width: 130px;">
        <input type="text" class="form-control" id="commit-hash" value="{{ last_commit.hash|slice:':8' }}" readonly>
        <button class="btn btn-outline-secondary" onclick="copyHash()" title="Copy hash">
            <i data-lucide="copy" style="width: 16px; height: 16px;"></i>
        </button>
    </div>
</div>